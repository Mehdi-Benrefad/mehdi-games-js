<!DOCTYPE html>
<html lang="en" id="html" onclick="shootY()">
<head>
  <meta charset="UTF-8">
  <title>Basket-Ball</title>
  
  <link rel="icon" href="cup.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
  <link rel="stylesheet" href="CSS/topnav.css">
  <link rel="stylesheet" href="CSS/footer.css">
  
  <link rel="icon" href="images/bombe.png" type="image/x-icon">
  <!--FONT AWESOME-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <!--GOOGLE FONTS-->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Play&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="CSS/under_construction.css">
  <script src="JS/topnav.js"></script>
  <style>
   
    .container{
        border:3px solid green;
        height:550px;
        width:400px;
        padding-top: 10px;
        margin-left:35%;
    }
    :root{
        --top:0px;
        --top325:325px;
    }
    *{
        padding: 0;
        margin: 0;
        outline: none;
    }
    body{
        overflow-x: hidden;
        display: block;
    }
    ellipse{
        fill:hsl(0, 0%, 90%); 
        stroke: black; 
        stroke-weight: 1px;
    }
    #reshoot, #restart{
        margin: 10rem auto;
        font-size: 2rem;
        padding: 1rem 2rem;
        border-radius: 0.3rem;
        display: block;
        color: green; 
        border: 3px solid green;
        background-color: white;
    }
    #reshoot:hover, #restart:hover{
        cursor: pointer;
        background-color: green;
        color: white;
    }
    #time {
      margin: auto;
      display: block;
      text-align: center;
      font-size: 3rem;
      font-family: sans-serif;
      font-weight: bold;
    }
    
    #time{
        
    }
    .cups{
        margin: auto; 
        width: 310px;
    }
    .cup{
        width: 100px;
        position: relative;
    }
    .row2{
        margin-top: -10rem;
        margin-left: 50px;
    }
    .row3{
        margin-top: -10rem;
        margin-left: 100px;
    }
    .cup4{
        top:5rem;
    }
    .cup5{
        top:5rem;
    }
    .cup6{
        top: 10rem;
    }
    .ball{
        width: 50px;
        height: 50px;
        position: relative;
    }
    .shooter{
        position: relative;
        top: 200px;
        left: 125px;
        width: 300px;
        margin: auto;
    }
    .shootX{
        animation: shootX 1s infinite linear;
    }
    @keyframes shootX{
        0%{left:0px}
        25%{left:125px}
        50%{left:0px}
        75%{left:-125px}
        100%{left:0px}
    }
    .shootY{
        animation: shootY 1s infinite linear;
    }
    @keyframes shootY{
        0%{top:0px}
        50%{top:175px}
        100%{top:0px}
    }
    .fadeAway{
        animation: fadeAway 1s;
        opacity: 0
    }
    @keyframes fadeAway{
        0%{opacity: 1}
        100%{opacity: 0}
    }
    .Shoot{
        animation: Shoot 1s;
        animation-timing-function: ease;
    }
    @keyframes Shoot{
        0%{top: var(--top)}
        100%{top: var(--top325)}
    }
    
  </style>

</head>
<body id="body">

  <div class="topnav" id="myTopnav" style="position: relative;">
    <a href="index.html" style="float:left;" ><b><i style="color:green">Mehdi</i>.games</b></a>
    <a href="#" id="enable_topnav_link">Jump Game</a>
    <a href="jump-game.html" >Jump Game</a>
    <a href="hangman_game.html">hangman game</a>
    <a href="save_the_ball_menu.html" >Save The Ball</a>
    <a href="basketball.html" class="active">Basket-Ball</a>
    <a href="under_construction.html">Snake</a>
    <a href="under_construction.html">Smart Game</a>
    <a href="javascript:void(0);" class="icon" onclick="myFunction()">
      <i class="fa fa-bars"></i>
    </a>
  </div>

  <br><br>

  <h1 style="color:green; text-align:center;" width=100px >Basket-Ball</h1>
  <br><br>
<div class="consignes" style="width: 50%;margin-left: 25%;">
  <h3 style="text-align: center; color:green">Consignes:</h3>
    <ul style="list-style-type: none;">
        
      <li>1- Cliquer l'ecran pour choisir le positionnement horizontal de la balle </li>
      <li>2- Cliquer l'ecran une 2eme fois, pour choisir le positionnement vertical de la balle.</li>
      <li>3- Quand vous marquez dans un cerceau ce dernier disparait.</li>
      <li>4- si vous reussisez a marquer dans tous les cerceaux, le vous gagnez le jeux.</li>
    </ul>
</div>

<br><br><br>
  
  <div class="container" id="container">
  <div class="cups">
  <div class="row">
   <img src="images/basket-ball/cerceau.png" alt="" class="cup cup1" id="cup1">
   <img src="images/basket-ball/cerceau.png" alt="" class="cup cup2" id="cup2">
   <img src="images/basket-ball/cerceau.png" alt="" class="cup cup3" id="cup3">
  </div>
  <div class="row row2">
   <img src="images/basket-ball/cerceau.png" alt="" class="cup cup4" id="cup4">
   <img src="images/basket-ball/cerceau.png" alt="" class="cup cup5" id="cup5">
  </div>
  <div class="row row3">
   <img src="images/basket-ball/cerceau.png" alt="" class="cup cup6" id="cup6">
  </div>
  </div>
   <div class="shooter"  id="shooter">
    <img src="images/basket-ball/ball.png" class="ball shootY" id="ball">
    
  </div>
</div>

  <br><br><br>
<footer>
    <div class="footer">
      <div class="row">
        <a href="https://github.com/Mehdi-Benrefad"><i class="fa fa-github"></i></a>
        <a href="#"><i class="fa fa-youtube"></i></a>
        <a href="https://www.linkedin.com/in/mehdi-benrefad-353460ba/"><i class="fa fa-linkedin"></i></a>
        <a href="mailto:benrefadmehdi@gmail.com"><i class="fa fa-google"></i></a>
      </div>
    
      <div class="row">
        <ul>
          <li><a href="#">Our Services</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms & Conditions</a></li>
        </ul>
      </div>

      <div class="row">
        <h3 style="text-align: center;"><i style="color: green;">Created by: &nbsp;</i> MEHDI BENREFAD</h3>
      </div>
      

    </div>
</footer>

</body>
<script>
    var html = document.getElementById("html");
var reshoot = document.getElementById("reshoot");
var ball = document.getElementById("ball");
var root = document.documentElement;
var container=document.getElementById('container');
var cupsOut = [];

function shootY(){
    let top = window.getComputedStyle(ball).getPropertyValue("top");
    ball.classList.remove("shootY");
    ball.classList.add("shootX");
    ball.style.top = top;
    let onclick = "shootX('".concat(top.toString(), "')");
    html.setAttribute("onclick", onclick);    
}

function shootX(valueY){
    html.setAttribute("onclick","");
    let top = valueY;
    let topInt = parseInt(valueY);
    let left = window.getComputedStyle(ball).getPropertyValue("left");
    let leftInt = parseInt(left);
    let newtop = topInt-325;
    root.style.setProperty('--top', (topInt)+ "px");
    root.style.setProperty('--top325', (newtop)+ "px");
    ball.classList.remove("shootX");
    ball.classList.add("Shoot");
    ball.style.top = newtop.toString().concat("px");
    ball.style.left = left;
    if(-20<topInt && topInt<20 && -125<leftInt && leftInt<-60){
        removeCup("1");
    }
    if(-20<topInt && topInt<20 && -40<leftInt && leftInt<40){
        removeCup("2");
    }
    if(-20<topInt && topInt<20 && 60<leftInt && leftInt<125){
        removeCup("3");
    }
    if(60<topInt && topInt<100 && -90<leftInt && leftInt<-25){
        removeCup("4");
    }
    if(60<topInt && topInt<100 && 15<leftInt && leftInt<80){
        removeCup("5");
    }
    if(140<topInt && topInt<180 && -45<leftInt && leftInt<45){
        removeCup("6");
    }
    setTimeout(function(){
        if(cupsOut.length == 6){
            let time = timer();
            alert("Winner!");
            let p = document.createElement("p");
            p.innerHTML = time + " seconds";
            p.setAttribute("id","time");
            container.appendChild(p);
            let restartBtn = document.createElement("BUTTON");
            restartBtn.innerHTML = "Restart";
            restartBtn.setAttribute("onclick","location.reload()");
            restartBtn.setAttribute("id","restart");
            container.appendChild(restartBtn);
        }else{
            let reshootBtn = document.createElement("BUTTON");
            reshootBtn.innerHTML = "Reshoot";
            reshootBtn.setAttribute("onclick","reshot()");
            reshootBtn.setAttribute("id","reshoot");
            container.appendChild(reshootBtn);
        }
    },1000);
}

function removeCup(cup){
    let element = "cup".concat(cup);
    let alreadyExists = cupsOut.includes(cup);
    if(alreadyExists==false){  
        cupsOut.push(cup);
    }
    setTimeout(function(){
 document.getElementById(element).classList.add("fadeAway");
    },1000);
}

function reshot(){
    document.getElementById("reshoot").remove();
    ball.classList.remove("Shoot");
    ball.classList.add("shootY");
    ball.style.top = "0px";
    ball.style.left = "0px";
    setTimeout(function(){
        html.setAttribute("onclick", "shootY()"); 
    },1000);
}

var startDate = new Date();
var startTime = startDate.getTime();
function timer(){
    var dateNow = new Date ();
    var timeNow = dateNow.getTime();
    var timeDiff = timeNow - startTime;
    var secondsElapsed = Math.floor(timeDiff/1000);
    return (secondsElapsed); 
}
</script>
</html>