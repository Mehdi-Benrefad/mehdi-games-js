<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cars</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="CSS/style.css">
		<link rel="stylesheet" href="CSS/topnav.css">
		<link rel="stylesheet" href="CSS/footer.css">
		<link rel="icon" href="images/bombe.png" type="image/x-icon">

		<!--FONT AWESOME-->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

		<!--GOOGLE FONTS-->
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Play&display=swap" rel="stylesheet"> 
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="CSS/under_construction.css">
		<script src="JS/hangman_game.js"></script>
		<script src="JS/topnav.js"></script>



        <style>
            *{
                padding: 0;
                margin: 0;
            }
            #restart{
                font-size: 2rem;
                padding: 0.5rem 2rem;
                border: 3px solid green;
                border-radius: 0.3rem;
                margin: 1rem auto;
                margin-left: 43%;
                color:green;
            }
            #restart:hover{
                background-color: green;
                color: white;
                cursor: pointer;
            }
            
            #game{
                overflow: hidden;
                width: 500px;
                height: 500px;
                margin: auto;
                box-sizing: border-box;
            }
            #character{
                width: 100px;
                height: 100px;
                position: relative;
                top: 400px;
                left: 0px;
                animation: rotation 1s infinite linear;
                
            }
            
            @keyframes rotation {
                0% {
                  transform: rotate(-7deg);
                }
                50% {
                  transform: rotate(7deg);
                }
                100%{
                    transform: rotate(-7deg);
                }
              }
              
            .switch_tree{
                margin-left: 30px;
            }
            
            
            #white{
                top: 500px;
                z-index: 100;
                position: absolute;
                width: 300px;
                height: 130px;
                background-color: white;
            }
            #block{
                width: 100px;
                height: 100px;
                top: 500px;
                
                position: relative;
                animation: slide 1s infinite linear;
            }
            @keyframes slide{
                0%{top:-100px};
                100%{top:500px};
            }
            #left, #right{
                width:50%;
                position: absolute;
                height: 500px;
            }
            #right{
                left: 50%;
            }
        </style>
</head>
<body>

    <div class="topnav" id="myTopnav">
        <a href="index.html" style="float:left;" ><b><i style="color:green">Mehdi</i>.games</b></a>
        <a href="#" id="enable_topnav_link">Jump Game</a>
        <a href="jump-game.html" >Jump Game</a>
        <a href="hangman_game.html" >hangman game</a>
        <a href="save_the_ball_menu.html" >Save The Ball</a>
        <a href="basketball.html">Basket-Ball</a>
        <a href="car_game.html" class="active">cars</a>
        <a href="under_construction.html">Snake</a>
        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
        <i class="fa fa-bars"></i>
        </a>
    </div>

    <br><br>
    <h1 style="color:green; text-align:center;">Car Game</h1>
    <br><br>
    <br><br>
    
    <div class="consignes">
        <h3 style="color: green;text-align:center;">Consignes</h3>

        <p>Bouger la voiture a droite et a gauche en utilisant les fleches du clavier bour eviter la roue brulante</p>
    </div>
    <br><br><br>


    <div id="game">
        <div style="position: absolute; width:100px; height:500px;  background-color:green;overflow: hidden;" id="leftpart">
            <img src="images/car_game/tree.png" id="image1" width="50" height="80" alt=""><br>
            <img src="images/car_game/tree.png" id="image2" class="switch_tree"  width="50" height="80" alt="">
            <img src="images/car_game/tree.png" id="image3" width="50" height="80" alt="">
            <img src="images/car_game/tree.png" id="image4" class="switch_tree" width="50" height="80" alt="">
            <img src="images/car_game/tree.png" id="image5" width="50" height="80" alt="">
            <img src="images/car_game/tree.png" id="image6" class="switch_tree" width="50" height="80" alt="">
        </div>
        <div style="margin-left:400px; position: absolute; width:100px; height:500px; overflow: hidden;background-color:green; " id="rightpart">
            <img src="images/car_game/tree.png" id="image7" width="50" height="80" alt=""><br>
            <img src="images/car_game/tree.png" id="image8" class="switch_tree" width="50" height="80" alt="">
            <img src="images/car_game/tree.png" id="image9" width="50" height="80" alt="">
            <img src="images/car_game/tree.png" id="image10" class="switch_tree" width="50" height="80" alt="">
            <img src="images/car_game/tree.png" id="image11" width="50" height="80" alt="">
            <img src="images/car_game/tree.png" id="image12" class="switch_tree" width="50" height="80" alt="">
        </div>
        <div style="margin-left:100px;position: absolute; width:98px; height:500px;  background-color:#282828; border-right:3px dashed white;"></div>
        <div style="margin-left:200px; position: absolute; width:98px; height:500px;  background-color:#181818; border-right:3px dashed white;"></div>
        <div style=" margin-left:300px;position: absolute; width:98px; height:500px;  background-color:#282828;"></div>
        <div id="left"></div>
        <div id="right"></div>
        <img id="block" src="images/car_game/ttt.png">
        <img id="character" src="images/car_game/tt.png">
        
    </div>
    <button id="restart" onclick="start()">start</button>
    <br><br>

    <h3 style="text-align: center;"><i style="color: green;">Created by:</i> MEHDI BENREFAD</h3>

<br><br><br>

    <footer>
        <div class="footer">
        <div class="row">
        <a href="https://github.com/Mehdi-Benrefad"><i class="fa fa-github"></i></a>
        <a href="#"><i class="fa fa-youtube"></i></a>
        <a href="https://www.linkedin.com/in/mehdi-benrefad-353460ba/"><i class="fa fa-linkedin"></i></a>
        <a href="mailto:benrefadmehdi@gmail.com"><i class="fa fa-google"></i></a>
        </div>
        
        <div class="row">
            <ul>
                <li><a href="#">Our Services</a></li>
                <li><a href="#">Privacy Policy</a></li>
                <li><a href="#">Terms & Conditions</a></li>
            </ul>
        </div>
    
        
    <div class="row" style="margin-left: -40%;margin-bottom:0px !important;">
      <i class="fa fa-copyright" aria-hidden="true"></i>  2021  Benrefad Mehdi
      
    </div>
    
        </div>
    </footer>

</body>
<script>
    document.addEventListener("keydown", event => {
        if(event.key==="ArrowLeft"){moveLeft();}
        if(event.key==="ArrowRight"){moveRight();}
      });
      
      
      var character = document.getElementById("character");
      function moveLeft(){
          let left = parseInt(window.getComputedStyle(character).getPropertyValue("left"));
          left -= 100;
          if(left>=0){
              character.style.left = left + "px";
          }
      }
      function moveRight(){
          let left = parseInt(window.getComputedStyle(character).getPropertyValue("left"));
          left += 100;
          if(left<300){
              character.style.left = left + "px";
          }
      }
      var block = document.getElementById("block");
      block.style.animation = "none";
      var counter = 0;
      
      function start(){
         
          
          block.style.animation = "slide 1s infinite linear";
          block.addEventListener('animationiteration', () => {
              var random = Math.floor(Math.random() * 3)+1;
              
                  left = random * 100;
              
              block.style.left = left + "px";
              counter++;
        
                if (counter%50==0 ){
                    if(document.getElementById("leftpart").style.backgroundColor=="green"){
                        document.getElementById("image1").src="images/car_game/tree3.png";
                        document.getElementById("image2").src="images/car_game/tree3.png";
                        document.getElementById("image3").src="images/car_game/tree3.png";
                        document.getElementById("image4").src="images/car_game/tree3.png";
                        document.getElementById("image5").src="images/car_game/tree3.png";
                        document.getElementById("image6").src="images/car_game/tree3.png";
                        document.getElementById("image7").src="images/car_game/tree3.png";
                        document.getElementById("image8").src="images/car_game/tree3.png";
                        document.getElementById("image9").src="images/car_game/tree3.png";
                        document.getElementById("image10").src="images/car_game/tree3.png";
                        document.getElementById("image11").src="images/car_game/tree3.png";
                        document.getElementById("image12").src="images/car_game/tree3.png";
        
        
                        document.getElementById('leftpart').style.backgroundColor="#191970";
                        document.getElementById('rightpart').style.backgroundColor="#191970";
                    }else{

                        document.getElementById("image1").src="images/car_game/tree.png";
                        document.getElementById("image2").src="images/car_game/tree.png";
                        document.getElementById("image3").src="images/car_game/tree.png";
                        document.getElementById("image4").src="images/car_game/tree.png";
                        document.getElementById("image5").src="images/car_game/tree.png";
                        document.getElementById("image6").src="images/car_game/tree.png";
                        document.getElementById("image7").src="images/car_game/tree.png";
                        document.getElementById("image8").src="images/car_game/tree.png";
                        document.getElementById("image9").src="images/car_game/tree.png";
                        document.getElementById("image10").src="images/car_game/tree.png";
                        document.getElementById("image11").src="images/car_game/tree.png";
                        document.getElementById("image12").src="images/car_game/tree.png";
        
        
                        document.getElementById('leftpart').style.backgroundColor="green";
                        document.getElementById('rightpart').style.backgroundColor="green";
                    }
                    
                }
          });
          setInterval(function(){
              var characterLeft = parseInt(window.getComputedStyle(character).getPropertyValue("left"));
              var blockLeft = parseInt(window.getComputedStyle(block).getPropertyValue("left"));
              var blockTop = parseInt(window.getComputedStyle(block).getPropertyValue("top"));
              if(characterLeft==blockLeft-100 && blockTop<500 && blockTop>300){
                  alert("Game over. Score: " + counter);
                  block.style.animation = "none";
                  counter=0;
                  
              }
              
          },1);
      
      
      }
      
      document.getElementById("right").addEventListener("touchstart", moveRight);
      document.getElementById("left").addEventListener("touchstart", moveLeft);
      
</script>

</html>